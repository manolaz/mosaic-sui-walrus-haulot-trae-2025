{
  "version": 3,
  "sources": ["../../../../src/tx/rules/attach.ts"],
  "sourcesContent": ["// Copyright (c) Mysten Labs, Inc.\n// SPDX-License-Identifier: Apache-2.0\n\nimport type { Transaction } from '@mysten/sui/transactions';\n\nimport type { ObjectArgument } from '../../types/index.js';\n\nexport function attachKioskLockRuleTx(\n\ttx: Transaction,\n\ttype: string,\n\tpolicy: ObjectArgument,\n\tpolicyCap: ObjectArgument,\n\tpackageId: string,\n) {\n\ttx.moveCall({\n\t\ttarget: `${packageId}::kiosk_lock_rule::add`,\n\t\ttypeArguments: [type],\n\t\targuments: [tx.object(policy), tx.object(policyCap)],\n\t});\n}\n\nexport function attachRoyaltyRuleTx(\n\ttx: Transaction,\n\ttype: string,\n\tpolicy: ObjectArgument,\n\tpolicyCap: ObjectArgument,\n\tpercentageBps: number | string, // this is in basis points.\n\tminAmount: number | string,\n\tpackageId: string,\n) {\n\tif (Number(percentageBps) < 0 || Number(percentageBps) > 10_000)\n\t\tthrow new Error('Invalid basis point percentage. Use a value between [0,10000].');\n\n\ttx.moveCall({\n\t\ttarget: `${packageId}::royalty_rule::add`,\n\t\ttypeArguments: [type],\n\t\targuments: [\n\t\t\ttx.object(policy),\n\t\t\ttx.object(policyCap),\n\t\t\ttx.pure.u16(Number(percentageBps)),\n\t\t\ttx.pure.u64(minAmount),\n\t\t],\n\t});\n}\n\nexport function attachPersonalKioskRuleTx(\n\ttx: Transaction,\n\ttype: string,\n\tpolicy: ObjectArgument,\n\tpolicyCap: ObjectArgument,\n\tpackageId: string,\n) {\n\ttx.moveCall({\n\t\ttarget: `${packageId}::personal_kiosk_rule::add`,\n\t\ttypeArguments: [type],\n\t\targuments: [tx.object(policy), tx.object(policyCap)],\n\t});\n}\n\nexport function attachFloorPriceRuleTx(\n\ttx: Transaction,\n\ttype: string,\n\tpolicy: ObjectArgument,\n\tpolicyCap: ObjectArgument,\n\tminPrice: string | bigint,\n\tpackageId: string,\n) {\n\ttx.moveCall({\n\t\ttarget: `${packageId}::floor_price_rule::add`,\n\t\ttypeArguments: [type],\n\t\targuments: [tx.object(policy), tx.object(policyCap), tx.pure.u64(minPrice)],\n\t});\n}\n"],
  "mappings": "AAOO,SAAS,sBACf,IACA,MACA,QACA,WACA,WACC;AACD,KAAG,SAAS;AAAA,IACX,QAAQ,GAAG,SAAS;AAAA,IACpB,eAAe,CAAC,IAAI;AAAA,IACpB,WAAW,CAAC,GAAG,OAAO,MAAM,GAAG,GAAG,OAAO,SAAS,CAAC;AAAA,EACpD,CAAC;AACF;AAEO,SAAS,oBACf,IACA,MACA,QACA,WACA,eACA,WACA,WACC;AACD,MAAI,OAAO,aAAa,IAAI,KAAK,OAAO,aAAa,IAAI;AACxD,UAAM,IAAI,MAAM,gEAAgE;AAEjF,KAAG,SAAS;AAAA,IACX,QAAQ,GAAG,SAAS;AAAA,IACpB,eAAe,CAAC,IAAI;AAAA,IACpB,WAAW;AAAA,MACV,GAAG,OAAO,MAAM;AAAA,MAChB,GAAG,OAAO,SAAS;AAAA,MACnB,GAAG,KAAK,IAAI,OAAO,aAAa,CAAC;AAAA,MACjC,GAAG,KAAK,IAAI,SAAS;AAAA,IACtB;AAAA,EACD,CAAC;AACF;AAEO,SAAS,0BACf,IACA,MACA,QACA,WACA,WACC;AACD,KAAG,SAAS;AAAA,IACX,QAAQ,GAAG,SAAS;AAAA,IACpB,eAAe,CAAC,IAAI;AAAA,IACpB,WAAW,CAAC,GAAG,OAAO,MAAM,GAAG,GAAG,OAAO,SAAS,CAAC;AAAA,EACpD,CAAC;AACF;AAEO,SAAS,uBACf,IACA,MACA,QACA,WACA,UACA,WACC;AACD,KAAG,SAAS;AAAA,IACX,QAAQ,GAAG,SAAS;AAAA,IACpB,eAAe,CAAC,IAAI;AAAA,IACpB,WAAW,CAAC,GAAG,OAAO,MAAM,GAAG,GAAG,OAAO,SAAS,GAAG,GAAG,KAAK,IAAI,QAAQ,CAAC;AAAA,EAC3E,CAAC;AACF;",
  "names": []
}
